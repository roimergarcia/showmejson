/** Showmejson
 * @author Roimer Garcia
 *      contact roimergarcia@gmail.com
 *      source available in https://github.com/roimergarcia/showmejson
 *      date 2022-01-05
 * @license  CC BY-SA 3.0 http://creativecommons.org/licenses/by-sa/3.0/deed.es
 * 
*/
"use strict";const defaultOptions={includeStyles:!0},showmejson={getFragment:function(obj,options){console.log(typeof obj);const opt=Object.assign({},defaultOptions,options),fragment=document.createDocumentFragment(),container=document.createElement("div");if(container.classList.add("showmejson"),opt.includeStyles){const styles=document.createElement("style");styles.innerHTML=" \n            .showmejson {\n                --smj-border-color: #CCCCCC;\n                --smj-border-radius: 4px;\n                --smj-spacing: 0.5rem;\n                display: block;\n                padding: var(--smj-spacing);\n                margin: var(--smj-spacing);\n                border: 1px solid var(--smj-border-color);\n                border-radius: var(--smj-border-radius);\n            }\n            .showmejson details {\n                border: 1px solid #aaa;\n                border-radius: 4px;\n                padding: var(--smj-spacing) var(--smj-spacing) 0;\n            }\n            .showmejson summary {\n                margin: calc( - var(--smj-spacing)) ;\n                padding: var(--smj-spacing);\n            }\n            .showmejson .details[open] summary{\n                display: none;\n            }\n            ",container.append(styles)}if("string"==typeof obj){const singleValue=document.createElement("pre");return singleValue.classList.add("showmejson__plain-text"),singleValue.textContent=`${JSON.stringify(obj).replace(/(\\n|\\r)/g,"$1\n")}`,container.append(singleValue),fragment.append(container),fragment}if(null===obj||["boolean","number","null","undefined"].includes(typeof obj))return container.textContent=""+obj,fragment.append(container),fragment;if("symbol"==typeof obj)return container.textContent=obj.toString(),fragment.append(container),fragment;const block=document.createElement("details"),summary=document.createElement("summary");summary.textContent=JSON.stringify(obj).substring(0,30)+"...",block.append(summary);const props=Object.getOwnPropertyNames(obj);return props.forEach((value,index,array)=>{if(console.log({n:value,v:obj[value],t:typeof obj[value]}),"string"==typeof obj[value]){const singleValue=document.createElement("pre");singleValue.classList.add("showmejson__plain-text"),singleValue.textContent=`${value}:"${JSON.stringify(obj[value]).replace(/(\\n|\\r)/g,"$1\n")}"`,block.append(singleValue)}else if(["boolean","number","null","undefined"].includes(typeof obj[value])){const singleValue=document.createElement("pre");singleValue.textContent=`${value}:${obj[value]}`,block.append(singleValue)}else if("symbol"==typeof obj[value]){const singleValue=document.createElement("pre");singleValue.textContent=`${value}:${obj[value].toString()}`,block.append(singleValue)}else{const singleValue=document.createElement("pre");singleValue.textContent=`${value}:${JSON.stringify(obj[value]).substring(0,30)+"..."}`,block.append(singleValue)}}),container.append(block),fragment.append(container),fragment}};export{showmejson};