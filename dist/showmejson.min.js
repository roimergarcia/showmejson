/** Showmejson
 * @author Roimer Garcia
 *      contact roimergarcia@gmail.com
 *      source available in https://github.com/roimergarcia/showmejson
 *      date 2022-01-05
 * @license  CC BY-SA 3.0 http://creativecommons.org/licenses/by-sa/3.0/deed.es
 * 
*/
"use strict";const showmejson=function(){const defaultOptions={includeStyles:!0,maxDepth:10},DEFAULT_STYLES=" \n    .showmejson {\n        --smj-border-color: #CCCCCC;\n        --smj-border-radius: 4px;\n        --smj-spacing: 0.5rem;\n        display: block;\n        padding: var(--smj-spacing);\n        margin: var(--smj-spacing);\n        border: 1px solid var(--smj-border-color);\n        border-radius: var(--smj-border-radius);\n    }\n    .showmejson > details {\n        margin: 0;\n    }\n    .showmejson details {\n        border: 1px solid #aaa;\n        border-radius: 4px;\n        padding: var(--smj-spacing);\n        margin: var(--smj-spacing) 0;\n    }\n    .showmejson summary {\n        margin: calc( - var(--smj-spacing)) ;\n        padding: 0;\n        cursor: pointer;\n    }\n    .showmejson .showmejson__single-item{\n        display: flex;\n        gap: 1rem;\n        margin: 0.5em 0px;\n        font-family: monospace, monospace;\n        white-space: pre;\n    }\n    .showmejson .showmejson__value--text{\n        color: #080;\n    }\n    .showmejson .showmejson__value--number, \n    .showmejson .showmejson__value--symbol{\n        color: #FF4488;\n    } \n    .showmejson .showmejson__value--date{\n        color: #0033FF;\n    }\n    .showmejson .showmejson__value--nothing{\n        color: #6B548C;\n        font-style: oblique;\n    }\n    .showmejson .showmejson__value--symbol, \n    .showmejson .showmejson__value--object{\n        color: #804040;\n    }\n    ",getFragment=function(obj,options){const opt=Object.assign({},defaultOptions,options),fragment=document.createDocumentFragment(),container=document.createElement("div");if(container.classList.add("showmejson"),opt.includeStyles){const styles=document.createElement("style");styles.innerHTML=DEFAULT_STYLES,container.append(styles)}return renderItem(container,opt.maxDepth,obj,""),fragment.append(container),fragment},renderItem=function(container,remainingDepth,obj,name){if("string"==typeof obj){const singleValue=document.createElement("div");singleValue.classList.add("showmejson__single-item");const n=document.createElement("span");n.classList.add("showmejson__label"),n.textContent=name?name+":":"",singleValue.append(n);const v=document.createElement("span");return v.classList.add("showmejson__value","showmejson__value--text"),v.textContent=`${JSON.stringify(obj).replace(/(\\n|\\r)/g,"$1\n")}`,singleValue.append(v),void container.append(singleValue)}if(null===obj||["boolean","number","null","undefined"].includes(typeof obj)){const singleValue=document.createElement("div");singleValue.classList.add("showmejson__single-item");const n=document.createElement("span");n.classList.add("showmejson__label"),n.textContent=name?name+":":"",singleValue.append(n);const v=document.createElement("span");return v.classList.add("showmejson__value","showmejson__value--number"),v.textContent=""+obj,singleValue.append(v),void container.append(singleValue)}if("symbol"==typeof obj){const singleValue=document.createElement("div");singleValue.classList.add("showmejson__single-item");const n=document.createElement("span");n.classList.add("showmejson__label"),n.textContent=name?name+":":"",singleValue.append(n);const v=document.createElement("span");return v.classList.add("showmejson__value","showmejson__value--symbol"),v.textContent=obj.toString(),singleValue.append(v),void container.append(singleValue)}if(obj instanceof Date){const singleValue=document.createElement("div");singleValue.classList.add("showmejson__single-item");const n=document.createElement("span");n.classList.add("showmejson__label"),n.textContent=name?name+":":"",singleValue.append(n);const v=document.createElement("span");return v.classList.add("showmejson__value","showmejson__value--date"),v.textContent=obj.toISOString(),singleValue.append(v),void container.append(singleValue)}if(0===remainingDepth){const singleValue=document.createElement("div");singleValue.classList.add("showmejson__single-item");const n=document.createElement("span");n.classList.add("showmejson__label"),n.textContent=name?name+":":"",singleValue.append(n);const v=document.createElement("span");return v.classList.add("showmejson__value","showmejson__value--object"),v.textContent=typeof obj+" {...}",singleValue.append(v),void container.append(singleValue)}const block=document.createElement("details"),summary=document.createElement("summary");summary.textContent=name||`[${typeof obj}]`,block.open=!name,block.append(summary);const props=Object.getOwnPropertyNames(obj);props.forEach((value,index,array)=>{renderItem(block,remainingDepth-1,obj[value],value)}),container.append(block)};return{getFragment:getFragment}}();export{showmejson};