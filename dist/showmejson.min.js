/** Showmejson
 * @author Roimer Garcia
 *      contact roimergarcia@gmail.com
 *      source available in https://github.com/roimergarcia/showmejson
 *      date 2022-01-05
 * @license  CC BY-SA 3.0 http://creativecommons.org/licenses/by-sa/3.0/deed.es
 * 
*/
"use strict";const showmejson=function(){const defaultOptions={includeStyles:!0,maxDepth:10,addColor:!0},DEFAULT_STYLES=" \n    .showmejson {\n        --smj-border-color: #CCCCCC;\n        --smj-border-radius: 4px;\n        --smj-spacing: 0.5rem;\n        display: block;\n        padding: var(--smj-spacing);\n        margin: var(--smj-spacing);\n        border: 1px solid var(--smj-border-color);\n        border-radius: var(--smj-border-radius);\n    }\n    .showmejson details {\n        border: 1px solid #AAAAAA;\n        border-radius: 4px;\n        padding: var(--smj-spacing);\n        margin: var(--smj-spacing) 0;\n    }\n    .showmejson > details {\n        margin: 0;\n    }\n    .showmejson details summary {\n        font-family: monospace, monospace;\n        margin: calc( - var(--smj-spacing)) ;\n        padding: 0;\n        cursor: pointer;\n    }\n    .showmejson details[open] > summary {\n        padding-bottom: 2px;\n        border-bottom: 1px solid var(--smj-border-color);\n    }\n    .showmejson .showmejson__single-item {\n        display: flex;\n        gap: 1rem;\n        margin: 0.5em 0px;\n        font-family: monospace, monospace;\n        white-space: pre;\n    }\n    .showmejson.showmejson--add-color .showmejson__value--text {\n        color: #008800;\n    }\n    .showmejson.showmejson--add-color .showmejson__value--number {\n        color: #0033FF;\n    } \n    .showmejson.showmejson--add-color .showmejson__value--boolean {\n        color: #CC00FF;\n    } \n    .showmejson.showmejson--add-color .showmejson__value--date {\n        color: #FF4488;\n    }\n    .showmejson.showmejson--add-color .showmejson__value--nothing {\n        color: #6B548C;\n        font-style: oblique;\n    }\n    .showmejson.showmejson--add-color .showmejson__value--symbol, \n    .showmejson.showmejson--add-color .showmejson__value--object {\n        color: #804040;\n    }\n    ",getFragment=function(obj,options){const opt=Object.assign({},defaultOptions,options),fragment=document.createDocumentFragment(),container=document.createElement("div");if(container.classList.add("showmejson"),opt.addColor&&container.classList.add("showmejson--add-color"),opt.includeStyles){const styles=document.createElement("style");styles.innerHTML=DEFAULT_STYLES,container.append(styles)}return renderItem(container,opt.maxDepth,obj,""),fragment.append(container),fragment},renderItem=function(container,remainingDepth,obj,name){let objType=typeof obj;if(null===obj?objType="null":"object"===objType&&(objType=obj.constructor.name),0===remainingDepth||["string","number","boolean","null","undefined","symbol","date"].includes(objType.toLowerCase())){const singleValue=document.createElement("div");singleValue.classList.add("showmejson__single-item");const itemName=document.createElement("span");itemName.classList.add("showmejson__label"),itemName.textContent=name?name+":":"",singleValue.append(itemName);const itemVal=document.createElement("span");switch(itemVal.classList.add("showmejson__value"),objType){case"string":case"String":itemVal.classList.add("showmejson__value--text"),itemVal.textContent=`${JSON.stringify(obj).replace(/(\\n|\\r)/g,"$1\n")}`;break;case"number":case"Number":itemVal.classList.add("showmejson__value--number"),itemVal.textContent=obj.toString();break;case"boolean":case"Boolean":itemVal.classList.add("showmejson__value--boolean"),itemVal.textContent=obj.toString();break;case"null":case"undefined":itemVal.classList.add("showmejson__value--nothing"),itemVal.textContent=""+obj;break;case"symbol":case"Symbol":itemVal.classList.add("showmejson__value--symbol"),itemVal.textContent=obj.toString();break;case"Date":itemVal.classList.add("showmejson__value--date"),itemVal.textContent=obj.toISOString();break;default:itemVal.classList.add("showmejson__value--object"),itemVal.textContent=objType+" {...}"}return singleValue.append(itemVal),void container.append(singleValue)}const block=document.createElement("details"),summary=document.createElement("summary");summary.textContent=(name?name+" ":"")+`[${objType}]`,block.open=!name,block.append(summary),container.append(block);const props=Object.getOwnPropertyNames(obj);props.forEach((value,index,array)=>{renderItem(block,remainingDepth-1,obj[value],value)})};return{getFragment:getFragment}}();export{showmejson};